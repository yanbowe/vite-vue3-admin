import{_ as e}from"./index.7c366795.js";import{d as a,r as n,l,a3 as c,A as r,b as t,c as d,e as o,F as s,f as i,B as u,D as h,af as v,t as p,y as k,co as m,N as f}from"./vendor.5e124c15.js";const g=e=>{const a=null==e?void 0:e.children,n=null==a?void 0:a.length,l=!!n&&!a.some((e=>!e.checked)),c=!!n&&a.some((e=>e.checked||e.indeterminate));e.checked=l,e.indeterminate=!l&&c,e.parent&&g(e.parent)},y=(e,a)=>{null==e||e.forEach((e=>{var n;e.checked=a,e.indeterminate=!1,(null==(n=e.children)?void 0:n.length)&&y(e.children,a)}))},_=(e,a)=>{var n;console.log("isCheck",e),a.checked=e,a.indeterminate=!1,Array.isArray(a.children)&&(null==(n=a.children)?void 0:n.length)&&y(a.children,e),a.parent&&g(a.parent)};const b={class:"flex"},C={class:"ant-cascader-menu min-w-150px"},x=["onClick"],A={class:"label"};var j=e(a({props:{options:{type:Array,default:()=>[]}},setup(e,{expose:a}){const g=e,y=n(),j=n([]),w=n(),E=()=>{var e,a;return null==(a=null==(e=g.options)?void 0:e.find((e=>e.value===w.value)))?void 0:a.children},N=l(E);c(N,(e=>{e||(j.value=[])}));return a({clearCheck:()=>{var e;j.value.forEach((e=>{e.checked=!1,e.indeterminate=!1})),j.value.length&&setTimeout((()=>{j.value=E()||[]})),null==(e=y.value)||e.clearCheck()}}),(a,n)=>{var l;const c=r("node-panel",!0);return t(),d("div",b,[o("div",C,[(t(!0),d(s,null,i(e.options,(e=>{var a;return t(),d("div",{key:e.value,onClick:a=>{return n=e.children,l=e.value,j.value=n||[],void(w.value=l);var n,l},class:"check-row ant-cascader-menu-item ant-cascader-menu-item-expand"},[o("div",null,[u(h(v),{checked:e.checked,"onUpdate:checked":a=>e.checked=a,indeterminate:e.indeterminate,onChange:a=>((e,a)=>{const n=e.target.checked;_(n,a)})(a,e)},null,8,["checked","onUpdate:checked","indeterminate","onChange"]),o("span",A,p(e.label),1)]),(null==(a=e.children)?void 0:a.length)?(t(),k(h(m),{key:0,class:"arrow"})):f("",!0)],8,x)})),128))]),(null==(l=j.value)?void 0:l.length)&&h(N)?(t(),k(c,{key:0,ref_key:"nodePanelRef",ref:y,options:j.value},null,8,["options"])):f("",!0)])}}}),[["__scopeId","data-v-7b379b7a"]]),w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j});export{j as N,w as n,_ as u};
